<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Numo::GSL::SpLinalg::IterSolve
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Numo::GSL::SpLinalg::IterSolve";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../x_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Numo.html" title="Numo (module)">Numo</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../GSL.html" title="Numo::GSL (module)">GSL</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SpLinalg.html" title="Numo::GSL::SpLinalg (module)">SpLinalg</a></span></span>
     &raquo; 
    <span class="title">IterSolve</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Numo::GSL::SpLinalg::IterSolve
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Numo::GSL::SpLinalg::IterSolve</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>ext/numo/gsl/spmatrix/gsl_spmatrix.c</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="IterSolve/Gmres.html" title="Numo::GSL::SpLinalg::IterSolve::Gmres (class)">Gmres</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="IterSolve/Gmres.html" title="Numo::GSL::SpLinalg::IterSolve::Gmres (class)">Gmres</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#iterate-class_method" title="iterate (class method)">.<strong>iterate</strong>(a, b, tol, x)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>This function performs one iteration of the iterative method for the sparse linear system specfied by the matrix A, right hand side vector b and solution vector x.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>This function returns a string pointer to the name of the solver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#normr-instance_method" title="#normr (instance method)">#<strong>normr</strong>  &#x21d2; Float </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>This function returns the current residual norm</td>
      <td> </td>
      <td>r</td>
      <td> </td>
      <td>=</td>
      <td> </td>
      <td>A x - b</td>
      <td> </td>
      <td>, which is updated after each call to gsl_splinalg_itersolve_iterate.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="iterate-class_method">
  
    .<strong>iterate</strong>(a, b, tol, x)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>This function performs one iteration of the iterative method for
the sparse linear system specfied by the matrix A, right hand
side vector b and solution vector x. On input, x
must be set to an initial guess for the solution. On output,
x is updated to give the current solution estimate. The
parameter tol specifies the relative tolerance between the residual
norm and norm of b in order to check for convergence.
When the following condition is satisfied:
|| A x - b || &lt;= tol * || b ||
the method has converged, the function returns GSL_SUCCESS and
the final solution is provided in x. Otherwise, the function
returns GSL_CONTINUE to signal that more iterations are
required. Here, || \cdot || represents the Euclidean norm.
The input matrix A may be in triplet or compressed column
format.</p>


  </div>
</div>
<div class="tags">
  
  
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>a</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../SpMatrix.html" title="Numo::GSL::SpMatrix (class)">Numo::GSL::SpMatrix</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(input sparse matrix)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>b</span>
      
      
        <span class='type'>(<tt>Numo::DFloat</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>(input vector)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>tol</span>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'>(<tt>Numo::DFloat</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><table>
  <tbody>
    <tr>
      <td>(input</td>
      <td>output vector)</td>
    </tr>
  </tbody>
</table>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>returns GSL::CONTINUE=-2 to signal that more iterations are required.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/numo/gsl/spmatrix/gsl_spmatrix.c', line 804</span>

static VALUE
splinalg_itersolve_s_iterate(VALUE self, VALUE vA, VALUE vb, VALUE vtol, VALUE vx)
{
    gsl_spmatrix *A;
    gsl_vector *b, *x;
    double tol;
    gsl_splinalg_itersolve *w;
    narray_t *na;
    int status;

    TypedData_Get_Struct(self, gsl_splinalg_itersolve, &amp;splinalg_itersolve_data_type, w);

    TypedData_Get_Struct(vA, gsl_spmatrix, &amp;spmatrix_data_type, A);

    vb = cast_1d_contiguous(vb, cDF);
    ALLOCA_GSL_VECTOR_FROM_NARRAY_R(vb, b);
    tol = NUM2DBL(vtol);

    if (CLASS_OF(vx) != cDF) {
        rb_raise(rb_eTypeError, &quot;x should be Numo::DFloat&quot;);
    }
    GetNArray(vx,na);
    if (NA_NDIM(na) != 1) {
        rb_raise(nary_eShapeError, &quot;x should be 1-dimensional array&quot;);
    }
    if (!RTEST(na_check_contiguous(vx))) {
        rb_raise(nary_eOperationError, &quot;x should be contiguous array&quot;);
    }
    ALLOCA_GSL_VECTOR_FROM_NARRAY_RW(vx, x);

    status = gsl_splinalg_itersolve_iterate(A, b, tol, x, w);
    RB_GC_GUARD(vb);
    return INT2FIX(status);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>This function returns a string pointer to the name of the solver.</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


767
768
769
770
771
772
773
774
775</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/numo/gsl/spmatrix/gsl_spmatrix.c', line 767</span>

static VALUE
splinalg_itersolve_name(VALUE self)
{
    gsl_splinalg_itersolve *w;

    TypedData_Get_Struct(self, gsl_splinalg_itersolve, &amp;splinalg_itersolve_data_type, w);

    return rb_str_new_cstr(gsl_splinalg_itersolve_name(w));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="normr-instance_method">
  
    #<strong>normr</strong>  &#x21d2; <tt>Float</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>This function returns the current residual norm
||r|| = ||A x - b||, which is updated after each call to
gsl_splinalg_itersolve_iterate.</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Float</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


849
850
851
852
853
854
855
856
857</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/numo/gsl/spmatrix/gsl_spmatrix.c', line 849</span>

static VALUE
splinalg_itersolve_normr(VALUE self)
{
    gsl_splinalg_itersolve *w;

    TypedData_Get_Struct(self, gsl_splinalg_itersolve, &amp;splinalg_itersolve_data_type, w);

    return DBL2NUM(gsl_splinalg_itersolve_normr(w));
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Jan 18 17:29:01 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.5.0).
</div>

    </div>
  </body>
</html>